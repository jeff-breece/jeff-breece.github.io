---
layout: null
permalink: /search.json
---

[
{% assign posts = site.posts | where_exp: "p", "p.draft != true" %}
{% for post in posts %}
  {
    "id": {{ forloop.index0 }},
    "title": {{ post.title | jsonify }},
    "url": {{ post.url | relative_url | jsonify }},
    "date": "{{ post.date | date_to_xmlschema }}",
    "tags": {{ post.tags | jsonify }},
    "categories": {{ post.categories | jsonify }},
    "content": {{ post.content | strip_html | replace: "\n", " " | replace: "\r", " " | jsonify }}
  }{% unless forloop.last %},{% endunless %}
{% endfor %}
]